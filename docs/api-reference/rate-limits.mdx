---
sidebar_position: 3
title: Rate Limits
description: TrustScope API rate limits by tier
---

# Rate Limits

TrustScope applies rate limits to ensure fair usage and system stability.

## Limits by Tier

| Tier | Requests/minute | Requests/day | Batch size |
|------|-----------------|--------------|------------|
| **Observe** (Free) | 1,000 | 50,000 | 100 |
| **Protect** ($29/mo) | 5,000 | 500,000 | 100 |
| **Enforce** ($99/mo) | 10,000 | 2,000,000 | 100 |
| **Govern** ($499/mo) | 50,000 | Unlimited | 100 |
| **Enterprise** | Custom | Custom | Custom |

---

## Rate Limit Headers

Every response includes rate limit information:

```http
HTTP/1.1 200 OK
X-RateLimit-Limit: 5000
X-RateLimit-Remaining: 4999
X-RateLimit-Reset: 1706702400
X-RateLimit-Policy: protect
```

| Header | Description |
|--------|-------------|
| `X-RateLimit-Limit` | Maximum requests per minute |
| `X-RateLimit-Remaining` | Requests remaining in window |
| `X-RateLimit-Reset` | Unix timestamp when limit resets |
| `X-RateLimit-Policy` | Your current rate limit tier |

---

## Rate Limit Exceeded

When you exceed rate limits:

```http
HTTP/1.1 429 Too Many Requests
Retry-After: 30

{
  "error": "rate_limit_exceeded",
  "message": "Too many requests. Please retry after 30 seconds.",
  "retry_after": 30
}
```

---

## Handling Rate Limits

### Python

```python
import time
from trustscope import TrustScope
from trustscope.exceptions import RateLimitError

ts = TrustScope(api_key="ts_live_xxx")

def log_with_retry(data, max_retries=3):
    for attempt in range(max_retries):
        try:
            return ts.log_action(**data)
        except RateLimitError as e:
            if attempt < max_retries - 1:
                time.sleep(e.retry_after)
            else:
                raise
```

### Node.js

```typescript
import { TrustScope, RateLimitError } from '@trustscope/sdk';

const ts = new TrustScope({ apiKey: 'ts_live_xxx' });

async function logWithRetry(data: any, maxRetries = 3): Promise<void> {
  for (let attempt = 0; attempt < maxRetries; attempt++) {
    try {
      await ts.logAction(data);
      return;
    } catch (error) {
      if (error instanceof RateLimitError && attempt < maxRetries - 1) {
        await new Promise(r => setTimeout(r, error.retryAfter * 1000));
      } else {
        throw error;
      }
    }
  }
}
```

---

## Endpoint-Specific Limits

Some endpoints have additional limits:

| Endpoint | Additional Limit |
|----------|-----------------|
| `/v1/export` | 10 concurrent exports |
| `/v1/observe/batch` | 100 items per batch |
| `/v1/search` | 100 queries/minute |

---

## Best Practices

### Batching

Use batch endpoints to reduce request count:

```bash
# Instead of 100 individual calls
curl -X POST https://api.trustscope.ai/v1/observe/batch \
  -d '{"observations": [...]}'  # Up to 100 at once
```

### Async Logging

Enable async logging to avoid blocking:

```python
ts = TrustScope(
    api_key="ts_live_xxx",
    async_flush=True,
    flush_interval=5.0  # Batch every 5 seconds
)
```

### Exponential Backoff

Implement exponential backoff for retries:

```python
import time
import random

def exponential_backoff(attempt: int, base: float = 1.0, max_delay: float = 60.0):
    delay = min(base * (2 ** attempt) + random.uniform(0, 1), max_delay)
    time.sleep(delay)
```

---

## Monitoring Usage

View your rate limit usage in the dashboard:

1. Go to **Settings â†’ Usage**
2. See current usage vs limits
3. Set up alerts for approaching limits

---

## Requesting Higher Limits

Need higher limits?

- **Upgrade tier** - Higher tiers have higher limits
- **Contact sales** - Enterprise plans have custom limits
- **Optimize usage** - Use batching and async logging

Contact [sales@trustscope.ai](mailto:sales@trustscope.ai) for enterprise inquiries.
